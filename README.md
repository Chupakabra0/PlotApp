---
metatable: true
title: Гайд пользователя по PlotApp
tags:
dateCreated: 22nd June 2022
dateModified: 22nd June 2022
---


# Гайд пользователя по PlotApp

## Инструменты разработки

Программа разработана при помощи языка программирования C# на платформе .NET 5.0 с использованием фреймворка [WPF](https://ru.wikipedia.org/wiki/Windows_Presentation_Foundation).

Файлы с точками реализован в формате [JSON](https://ru.wikipedia.org/wiki/JSON).

Остальные библиотеки:
* Newtonsoft.Json — библиотека для работы с `.json`-файлами средствами языка программирования C#.
* OxyPlot.WPF — библиотека для построения графиков на платформе .NET, ориентирована на WPF приложения.
* Microsoft.Xaml.Behaviors.WPF — библиотека для лёгкого добавления интерактивных элементов управления в WPF.
* PropertyChanged.Fody — библиотека, добавляющая уведомление об изменении свойств во всех классах, реализующих интерфейс `INotifyPropertyChanged`.
* MathParser.org-mXparser — библиотека, предоставляющая парсер строчных математических выражений.

## Ультимативный гайд по открытию проекта и его компилции

1. Открыть приложение `Visual Studio Installer` (подойдёт версия 2019-го или 2022-го годов).
2. Убедиться, что стоит галочка, как на скриншоте:
   ![[Pasted image 20220622135855.png]]
3. Перейти в пункт "Отдельные компоненты":
   ![[Pasted image 20220622140036.png]]
4. Убедиться, что **хотя бы одна из галочек** стоит на этих пунтах:
   ![[Pasted image 20220622140503.png]]
5. Теперь `.sln` файл проекта можно корректно открыть и скомпилировать. Для демонстрации рекомендую поставить конфигурацию решения на `Release` и скомпилировать проект (стандартная комбинация `Crtl+Shift+B`):
   ![[Pasted image 20220622140746.png]] 
6. Если всё прошло успешно, то будет выведено сообщение, как на скриншоте:
   ![[Pasted image 20220622141041.png]]
7. Далее нужно найти исполняемый файл программы. Следует нажать ПКМ на проект, после чего выбрать пункт "Открыть папку в проводнике":
   
   |                                      |                                      |
   | ------------------------------------ | ------------------------------------ |
   | ![[Pasted image 20220622141259.png]] | ![[Pasted image 20220622141349.png]] |
   
   
8. Будет открыть стандартный проводник, далее нужно перейти в папку `bin`, затем `Release`, затем папку `net5.0-windows`, после чего будет найден `.exe`-файл приложения `PlotApp.exe`:
   ![[Pasted image 20220622141517.png]]

## Гайд по самому приложению

При открытии приложения нас встречает двухмерная декартова система координат и кнопка "Add".

![[Pasted image 20220622141847.png]]

Для добавления графика функции нажмём на кнопку "Add". Появится новое окно, которое сделает предыдущее окно недоступным. На этом окне расположены несколько элементов:

![[Pasted image 20220622142144.png]]

Описание элементов управления:

<span style="color: red">1.</span> Таблица точек графика (DataGrid). \
<span style="color: lightgreen">2.</span> TextBox с именем графика. \
<span style="color: lightblue">3.</span> Slider, значение которого ограничено в рамках [0, 1] и определяет параметр ["каноничного сплайна"](https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Cardinal_spline). \
<span style="color: orange">4.</span> TextBox-ы, определяющие параметры растяжения (при параметрах (1, ...]) или сжатия (при параметрах (0, 1)) по осях абсцис и ординат. \
<span style="color: purple">5.</span> TextBox-ы, определяющие параметры паралельного переноса по осям абсцис и ординат. \
<span style="color: pink">6.</span> Button-ы, для работы с файлами точек. \
<span style="color: darkgrey">7.</span> Button-ы, для завершения работы окна с сохранением графика или без.

На данный момент реализована только возможность ручного ввода точек графика функции в таблицу напрямую. Примеры работы:

|                                      |                                      |
| ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20220622143836.png]] | ![[Pasted image 20220622143847.png]] |
| ![[Pasted image 20220622144304.png]] | ![[Pasted image 20220622144323.png]] |

## Проверка работоспособности фич

### Проверка работы интерполяции

Координаты графика:
![[Pasted image 20220622144609.png]]

Результаты:

|               $c = 0$                |               $c=0.25$               |               $c=0.5$                |               $c=1.0$                |
|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| ![[Pasted image 20220622144834.png]] | ![[Pasted image 20220622144845.png]] | ![[Pasted image 20220622144856.png]] | ![[Pasted image 20220622144904.png]] |


### Проверка растяжения/сужения

Координаты графика:
![[Pasted image 20220622145128.png]]

Результаты для оси абсцис:

|           $\alpha_{x} = 1$           |           $\alpha_{x} = 2$            |          $\alpha_{x} = 2.5$          |          $\alpha_{x} = 0.5$          |
|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| ![[Pasted image 20220622145319.png]] | ![[Pasted image 20220622145335.png]] | ![[Pasted image 20220622145403.png]] | ![[Pasted image 20220622145417.png]] |

Результаты для оси ординат:

|           $\alpha_{y} = 1$           |           $\alpha_{y} = 2$           |          $\alpha_{y} = 2.5$          |          $\alpha_{y} = 0.5$          |
|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| ![[Pasted image 20220622145535.png]] | ![[Pasted image 20220622145555.png]] | ![[Pasted image 20220622145618.png]] | ![[Pasted image 20220622145639.png]] |

### Проверка параллельного переноса

Координаты графика:
![[Pasted image 20220622153549.png]]

Результаты для оси абсцис:

|           $\beta_{x} = 0$            |           $\beta_{x} = 10$           |          $\beta_{x} = -10$           |
|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| ![[Pasted image 20220622153624.png]] | ![[Pasted image 20220622153648.png]] | ![[Pasted image 20220622153734.png]] |

Результаты для оси ординат:

|           $\beta_{y} = 0$            |           $\beta_{y} = 10$            |          $\beta_{y} = -10$           |
|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| ![[Pasted image 20220622153627.png]] | ![[Pasted image 20220622153750.png]] | ![[Pasted image 20220622153805.png]] |



### Проверка редактирования/удаления

После создания первого графика появится список графиков с двумя кнопками: "Edit" и "Del", с помощью которых соответственно можно редактировать существующий график и удалять его.

Создадим несколько графиков:

![[Pasted image 20220622154431.png]]

Попробуем удалить график "Plot #1", нажав на кнопку "Del":

|                                      |                                      |
| ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20220622154614.png]] | ![[Pasted image 20220622154625.png]] |

Попробуем изменить график "Plot #2", нажав кнопку "Edit":

|                                      |                                      |                                      |
| ------------------------------------ | ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20220622154625.png]] | ![[Pasted image 20220622154927.png]] | ![[Pasted image 20220622154937.png]] |

### Проверка сохранения/загрузки файла

Как ранее было сказано, для сохранения точек используется файл с расширением `json`. Попробуем сохранить точки графика "Plot #3". Нажмём на кнопку "Edit", а в новом окне на кнопку "Save to file":

|                                      |                                      |
| ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20220622155316.png]] | ![[Pasted image 20220622155352.png]] |

Файл будет иметь следующий вид:

```json
[
  {
    "X": -3.0,
    "Y": 0.3
  },
  {
    "X": -2.0,
    "Y": 1.2
  },
  {
    "X": -1.0,
    "Y": -1.3
  },
  {
    "X": 0.0,
    "Y": 2.1
  },
  {
    "X": 1.0,
    "Y": 4.1
  },
  {
    "X": 2.0,
    "Y": -1.2
  },
  {
    "X": 3.0,
    "Y": 0.1
  }
]
```

Закроем приложение и откроем вновь. Попытаемся добавить новый график при помощи точек из файла:

|                                      |                                      |                                      |
| ------------------------------------ | ------------------------------------ | ------------------------------------ |
| ![[Pasted image 20220622155739.png]] | ![[Pasted image 20220622155752.png]] | ![[Pasted image 20220622155807.png]] |
| ![[Pasted image 20220622155835.png]] | ![[Pasted image 20220622160231.png]] | ![[Pasted image 20220622160239.png]] |


## Управление графиком

ЛКМ — левая кнопка мышки \
ПКМ — правая кнопка мышки \
ЦКМ — центральная кнопка мышки

Исходный график:

![[Pasted image 20220622164834.png]]

Перемещение по плоскости — нажатие ПКМ и перемещение мышки:

![[Pasted image 20220622164902.png]]
![[Pasted image 20220622164909.png]]

Масштабирование — Колёсико мыши:

![[Pasted image 20220622164943.png]]
![[Pasted image 20220622164953.png]]

Восстановление позиции и масштаба — двойное нажатие ЦКМ:

![[Pasted image 20220622165119.png]]
![[Pasted image 20220622165123.png]]

Фокус на сегменте — нажатие ЦКМ и выделение области:

![[Pasted image 20220622165205.png]]
![[Pasted image 20220622165211.png]]

Значение точки — нажатие ЛКМ:

![[Pasted image 20220622165452.png]]

## Валидация

1. Наличие некорректно заполненных полей (пустое поле имени, буквы в TextBox и так далее) не даст создать график, нажав на кнопку "Done":
   ![[Pasted image 20220622165618.png]]
   ![[Pasted image 20220622165632.png]]
   ![[Pasted image 20220622165718.png]]
2. Текст в DataGrid не даст создать новую точку и редактировать другие
   ![[Pasted image 20220622165905.png]]

## Что планируется сделать

1. Добавление точек по функции (уже реализовано, вырезано для превью-версии).
2. Возможность рисовать только точки, не соединяя их;
3. Иконка приложения.
4. Фикс мелких визуальных багов.
5. Улучшение валидации в DataGrid.
6. Прочее.
